@using Blazorise
@using Syncfusion.Blazor.Calendars
@using Syncfusion.Blazor.DropDowns
@using HRManager.Blazor.Pages.Admin
@inherits MemberGridEditTemplateBase  

<div class="p-2">
    <Tabs SelectedTab="@selectedTab" SelectedTabChanged="@OnTabChanged">
        <Items>
            <Tab Class="main-tab" Name="personal">Personal and Contact</Tab>
            <Tab Class="main-tab" Name="positions">Positions</Tab>
            <Tab Class="main-tab" Name="avail">Availabilities</Tab>
            <Tab Class="main-tab" Name="qual">Qualifications</Tab>
            <Tab Class="main-tab" Name="cert">Certifications</Tab>
            <Tab Class="main-tab" Name="check">Checks</Tab>
        </Items>
        <Content>
            <TabPanel Name="personal">
                <div id="form-container" class="p-3">
                    <div id="first-name" class="form-group">
                        <label class="form-label">First Name:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.FirstName" />
                            <ValidationMessage For="@(() => SelectedMember.FirstName)" />
                        </div>
                    </div>
                    <div id="last-name" class="form-group">
                        <label class="form-label">Last Name:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.LastName" />
                            <ValidationMessage For="@(() => SelectedMember.LastName)" />
                        </div>
                    </div>
                    <div id="birthdate" class="form-group">
                        <label class="form-label">Date of Birth:</label>
                        <div>
                            <SfDatePicker StrictMode="true" @bind-Value="SelectedMember.Birthdate" />
                            <ValidationMessage For="@(() => SelectedMember.Birthdate)" />
                        </div>
                    </div>
                    <div id="address" class="form-group">
                        <label class="form-label">Address:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.Address" />
                            <ValidationMessage For="@(() => SelectedMember.Address)" />
                        </div>
                    </div>
                    <div id="city" class="form-group">
                        <label class="form-label">City:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.City" />
                            <ValidationMessage For="@(() => SelectedMember.City)" />
                        </div>
                    </div>
                    <div id="postal-code" class="form-group">
                        <label class="form-label">Postal Code:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.PostalCode" />
                            <ValidationMessage For="@(() => SelectedMember.PostalCode)" />
                        </div>
                    </div>
                    <div id="email" class="form-group">
                        <label class="form-label">Email:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.Email" />
                            <ValidationMessage For="@(() => SelectedMember.Email)" />
                        </div>
                    </div>
                    <div id="main-phone" class="form-group">
                        <label class="form-label">Main Phone:</label>
                        <div>
                            <SfTextBox Type="InputType.Tel" @bind-Value="SelectedMember.MainPhone" />
                            <ValidationMessage For="@(() => SelectedMember.FirstName)" />
                        </div>
                    </div>
                    <div id="alt-phone-1" class="form-group">
                        <label class="form-label">Alternate Phone 1 (Optional):</label>
                        <div>
                            <SfTextBox Type="InputType.Tel" @bind-Value="SelectedMember.AlternatePhone1" />
                            <ValidationMessage For="@(() => SelectedMember.AlternatePhone1)" />
                        </div>
                    </div>
                    <div id="alt-phone-2" class="form-group">
                        <label class="form-label">Alternate Phone 2 (Optional):</label>
                        <div>
                            <SfTextBox Type="InputType.Tel" @bind-Value="SelectedMember.AlternatePhone2" />
                        </div>
                    </div>
                    <div id="emergency-contact" class="form-group">
                        <label class="form-label">Full Name of Emergency Contact:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.EmergencyFullName" />
                            <ValidationMessage For="@(() => SelectedMember.EmergencyFullName)" />
                        </div>
                    </div>
                    <div id="emergency-relationship" class="form-group">
                        <label class="form-label">Relationship to Emergency Contact:</label>
                        <div>
                            <SfTextBox Type="InputType.Text" @bind-Value="SelectedMember.EmergencyRelationship" />
                            <ValidationMessage For="@(() => SelectedMember.EmergencyRelationship)" />
                        </div>
                    </div>
                    <div id="emergency-phone-1" class="form-group">
                        <label class="form-label">Emergency Phone 1:</label>
                        <div>
                            <SfTextBox Type="InputType.Tel" @bind-Value="SelectedMember.EmergencyPhone1" />
                            <ValidationMessage For="@(() => SelectedMember.EmergencyPhone1)" />
                        </div>
                    </div>
                    <div id="emergency-phone-2" class="form-group">
                        <label class="form-label">Emergency Phone 2 (Optional):</label>
                        <div>
                            <SfTextBox Type="InputType.Tel" @bind-Value="SelectedMember.EmergencyPhone2" />
                            <ValidationMessage For="@(() => SelectedMember.EmergencyPhone2)" />
                        </div>
                    </div>
                </div>
            </TabPanel>
            <TabPanel Name="positions">
                <div class="d-flex p-3">
                    <div class="d-flex flex-column mr-2">
                        <label><strong>Preferred Positions</strong></label>
                        <SfMultiSelect Mode="VisualMode.Box" @bind-Value="preferredPositions" DataSource="Positions" >
                            <MultiSelectFieldSettings Text="Name" Value="Name" />
                        </SfMultiSelect>
                    </div>
                    <div class="d-flex flex-column">
                        <label><strong>Assigned Positions</strong></label>
                        <SfMultiSelect Mode="VisualMode.Box" @bind-Value="assignedPositions" DataSource="Positions" >
                            <MultiSelectFieldSettings Text="Name" Value="Name" />
                        </SfMultiSelect>
                    </div>
                </div>
            </TabPanel>
            <TabPanel Name="avail">
                <div class="availability-container p-3">
                    <AvailabilityEditor @bind-AvailabilitiesData="@SelectedMember.Availabilities" IsReadOnly="false" />
                </div>
            </TabPanel>
            <TabPanel Name="qual">
                <div class="p-3">
                    <div id="general-experience">
                        <div id="education" class="form-group">
                            <label>Education and Training</label>
                            <SfTextBox Multiline="true" @bind-Value="SelectedMember.EducationTraining" />
                            <ValidationMessage For="@(() => SelectedMember.EducationTraining)" />
                        </div>
                        <div id="skills" class="form-group">
                            <label>Skills, Interests and Hobbies</label>
                            <SfTextBox Multiline="true" @bind-Value="SelectedMember.SkillsInterestsHobbies" />
                            <ValidationMessage For="@(() => SelectedMember.SkillsInterestsHobbies)" />
                        </div>
                        <div id="experience" class="form-group">
                            <label>Volunteer Experience</label>
                            <SfTextBox Multiline="true" @bind-Value="SelectedMember.Experience" />
                            <ValidationMessage For="@(() => SelectedMember.Experience)" />
                        </div>
                        <div id="boards" class="form-group">
                            <label>Volunteer Boards</label>
                            <SfTextBox Multiline="true" @bind-Value="SelectedMember.OtherBoards" />
                            <ValidationMessage For="@(() => SelectedMember.OtherBoards)" />
                        </div>
                    </div>
                    <hr />
                    <h6>Last or Current Job</h6>
                    <br />
                    @*<div id="work-experience">
                        <div id="employer-name" class="form-group">
                            <label>Place of Work</label>
                            <SfTextBox @bind-Value="SelectedMember.WorkExperiences.FirstOrDefault().EmployerName" />
                            <ValidationMessage For="@(() => SelectedMember.WorkExperiences.FirstOrDefault().EmployerName)" />
                        </div>
                        <div id="employer-address" class="form-group">
                            <label>Address</label>
                            <SfTextBox @bind-Value="SelectedMember.WorkExperiences.FirstOrDefault().EmployerAddress" />
                            <ValidationMessage For="@(() => SelectedMember.WorkExperiences.FirstOrDefault().EmployerAddress)" />
                        </div>
                        @if (SelectedMember.WorkExperiences.FirstOrDefault().CurrentJob)
                        {
                            <div id="date" class="form-group">
                                <label>Start Date</label>
                                <SfDatePicker TValue="DateTime" @bind-Value="SelectedMember.WorkExperiences.FirstOrDefault().StartDate" />
                                <ValidationMessage For="@(() => SelectedMember.WorkExperiences.FirstOrDefault().StartDate)" />
                            </div>
                        }
                        else
                        {
                            <div id="date" class="form-group">
                                <label>Period Worked</label>
                                <SfDateRangePicker @bind-StartDate="SelectedMember.WorkExperiences.FirstOrDefault().StartDate" @bind-EndDate="SelectedMember.WorkExperiences.FirstOrDefault().EndDate" />
                            </div>
                        }
                        <div id="current" class="form-group">
                            <SfCheckBox @bind-Checked="SelectedMember.WorkExperiences.FirstOrDefault().CurrentJob" />
                            <ValidationMessage For="@(() => SelectedMember.WorkExperiences.FirstOrDefault().CurrentJob)" />
                            <label>Current Job?</label>
                        </div>
                    </div>*@
                </div>
            </TabPanel>
            <TabPanel Name="cert">
                <div id="cert-container" class="d-flex flex-column p-3">
                    <div id="firstaid-container">
                        <div class="checkbox-container">
                            <SfCheckBox @bind-Checked="SelectedMember.FirstAidCpr" />
                            <label>First Aid</label>
                        </div>
                        <div class="expiry-container mr-1">
                            @if (SelectedMember.FirstAidCpr)
                            {
                                <label class="expiry-label">Expiry:</label>
                                <SfDatePicker CssClass="expiry" @bind-Value="SelectedMember.FirstAidCprExpiry" />
                            }

                        </div>
                        <div class="level-container">
                            @if (SelectedMember.FirstAidCpr)
                            {
                                <label>Level:</label>
                                <SfTextBox @bind-Value="SelectedMember.FirstAidCprLevel" />
                            }
                        </div>
                    </div>
                    <div id="foodsafe-container">
                        <div class="checkbox-container">
                            <SfCheckBox @bind-Checked="SelectedMember.FoodSafe" />
                            <label>Food Safe</label>
                        </div>
                        <div class="expiry-container ">
                            @if (SelectedMember.FoodSafe)
                            {
                                <label>Expiry:</label>
                                <SfDatePicker @bind-Value="SelectedMember.FoodSafeExpiry" />
                            }

                        </div>
                    </div>
                    <div id="othercerts-container">
                        <div class="expiry-container ">
                            <label>Other Certificates:</label>
                            <SfTextBox @bind-Value="SelectedMember.OtherCertificates" Multiline="true" />
                        </div>
                    </div>
                </div>
            </TabPanel>
            <TabPanel Name="check">
            </TabPanel>
        </Content>
    </Tabs>
</div>


